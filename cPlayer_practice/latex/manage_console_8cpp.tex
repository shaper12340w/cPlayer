\doxysection{manage\+Console.\+cpp íŒŒì¼ ì°¸ì¡°}
\hypertarget{manage_console_8cpp}{}\label{manage_console_8cpp}\index{manageConsole.cpp@{manageConsole.cpp}}
{\ttfamily \#include $<$tchar.\+h$>$}\newline
{\ttfamily \#include $<$windows.\+h$>$}\newline
{\ttfamily \#include $<$psapi.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include "{}player\+UI.\+h"{}}\newline
manage\+Console.\+cppì— ëŒ€í•œ include ì˜ì¡´ ê·¸ë˜í”„
% FIG 0
\doxysubsubsection*{í•¨ìˆ˜}
\begin{DoxyCompactItemize}
\item 
BOOL CALLBACK \mbox{\hyperlink{manage_console_8cpp_a2a6e8d5b4a7b92c6f8e6c9b837b7d1c9}{Enum\+Windows\+Proc}} (HWND hwnd, LPARAM l\+Param)
\item 
int \mbox{\hyperlink{manage_console_8cpp_ae28154de2cff99671355effbe35dc415}{Check\+Console\+Registry}} ()
\item 
void \mbox{\hyperlink{manage_console_8cpp_aa486752d2d0070676af70f863c3475a9}{resize\+Window}} (int width, int height)
\end{DoxyCompactItemize}


\doxysubsection{í•¨ìˆ˜ ë¬¸ì„œí™”}
\Hypertarget{manage_console_8cpp_ae28154de2cff99671355effbe35dc415}\index{manageConsole.cpp@{manageConsole.cpp}!CheckConsoleRegistry@{CheckConsoleRegistry}}
\index{CheckConsoleRegistry@{CheckConsoleRegistry}!manageConsole.cpp@{manageConsole.cpp}}
\doxysubsubsection{\texorpdfstring{CheckConsoleRegistry()}{CheckConsoleRegistry()}}
{\footnotesize\ttfamily \label{manage_console_8cpp_ae28154de2cff99671355effbe35dc415} 
int Check\+Console\+Registry (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



\mbox{\hyperlink{manage_console_8cpp_source}{manage\+Console.\+cpp}} íŒŒì¼ì˜ \mbox{\hyperlink{manage_console_8cpp_source_l00028}{28}} ë²ˆì§¸ ë¼ì¸ì—ì„œ ì •ì˜ë˜ì—ˆìŠµë‹ˆë‹¤.


\begin{DoxyCode}{0}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00029\ \ \ \ \ HKEY\ hkey;}
\DoxyCodeLine{00030\ \ \ \ \ DWORD\ dwSize;}
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keywordtype}{char}\ value[256];}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keywordflow}{if}\ (RegOpenKeyEx(HKEY\_CURRENT\_USER,\ TEXT(\textcolor{stringliteral}{"{}CONSOLE\(\backslash\)\(\backslash\)\%\%Startup"{}}),\ 0,\ KEY\_READ,\ \&hkey)\ !=\ ERROR\_SUCCESS)\ \{}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{player_u_i_8cpp_a409471bd6e26238b55939ea334bf2478}{clearLine}}(6);\ \mbox{\hyperlink{player_u_i_8cpp_a9d1008cd1f195593b51aa49bd912dac1}{uprintf}}(6,\ L\textcolor{stringliteral}{"{}·¹Áö½ºÆ®¸®¸¦\ ¿©´Â °úÁ¤¿¡¼­\ ¿À·ù°¡ ¹ß»ıÇß½À´Ï´Ù"{}});}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00036\ \ \ \ \ \}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \ \ \ dwSize\ =\ \textcolor{keyword}{sizeof}(value);}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keywordflow}{if}\ (RegQueryValueEx(hkey,\ TEXT(\textcolor{stringliteral}{"{}DelegationConsole"{}}),\ NULL,\ NULL,\ (LPBYTE)value,\ \&dwSize)\ ==\ ERROR\_SUCCESS)\ \{}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (strcmp(value,\ \textcolor{stringliteral}{"{}\{2EACA947-\/7F5F-\/4CFA-\/BA87-\/8F7FBEEFBE69\}"{}})\ ==\ 0)\ \textcolor{comment}{//WIndows\ TerminalÀÌ\ ±âº»\ ÅÍ¹Ì³ÎÀÎ°¡}}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;\ \textcolor{comment}{//yes}}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1;\ \textcolor{comment}{//no}}
\DoxyCodeLine{00045\ \ \ \ \ \}}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00048\ \}}

\end{DoxyCode}
ì´ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ë“¤ì— ëŒ€í•œ ê·¸ë˜í”„ì…ë‹ˆë‹¤.\+:
% FIG 1
ì´ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ë“¤ì— ëŒ€í•œ ê·¸ë˜í”„ì…ë‹ˆë‹¤.\+:
% FIG 2
\Hypertarget{manage_console_8cpp_a2a6e8d5b4a7b92c6f8e6c9b837b7d1c9}\index{manageConsole.cpp@{manageConsole.cpp}!EnumWindowsProc@{EnumWindowsProc}}
\index{EnumWindowsProc@{EnumWindowsProc}!manageConsole.cpp@{manageConsole.cpp}}
\doxysubsubsection{\texorpdfstring{EnumWindowsProc()}{EnumWindowsProc()}}
{\footnotesize\ttfamily \label{manage_console_8cpp_a2a6e8d5b4a7b92c6f8e6c9b837b7d1c9} 
BOOL CALLBACK Enum\+Windows\+Proc (\begin{DoxyParamCaption}\item[{HWND}]{hwnd}{, }\item[{LPARAM}]{l\+Param}{}\end{DoxyParamCaption})}



\mbox{\hyperlink{manage_console_8cpp_source}{manage\+Console.\+cpp}} íŒŒì¼ì˜ \mbox{\hyperlink{manage_console_8cpp_source_l00007}{7}} ë²ˆì§¸ ë¼ì¸ì—ì„œ ì •ì˜ë˜ì—ˆìŠµë‹ˆë‹¤.


\begin{DoxyCode}{0}
\DoxyCodeLine{00007\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00008\ \ \ \ \ DWORD\ processId;}
\DoxyCodeLine{00009\ \ \ \ \ GetWindowThreadProcessId(hwnd,\ \&processId);}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \ \ \ \ HANDLE\ processHandle\ =\ OpenProcess(PROCESS\_QUERY\_INFORMATION\ |\ PROCESS\_VM\_READ,\ FALSE,\ processId);}
\DoxyCodeLine{00012\ \ \ \ \ \textcolor{keywordflow}{if}\ (processHandle)\ \{}
\DoxyCodeLine{00013\ \ \ \ \ \ \ \ \ TCHAR\ processName[MAX\_PATH]\ =\ \{\ 0\ \};}
\DoxyCodeLine{00014\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (GetModuleBaseName(processHandle,\ NULL,\ processName,\ MAX\_PATH))\ \{}
\DoxyCodeLine{00015\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ ÇÁ·Î¼¼½º\ ÀÌ¸§ÀÌ\ WindowsTerminal.exeÀÎÁö\ È®ÀÎ}}
\DoxyCodeLine{00016\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_tcsicmp(processName,\ \_T(\textcolor{stringliteral}{"{}WindowsTerminal.exe"{}}))\ ==\ 0)\ \{}
\DoxyCodeLine{00017\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ HWND*\ targetHwnd\ =\ (HWND*)lParam;}
\DoxyCodeLine{00018\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *targetHwnd\ =\ hwnd;\ \textcolor{comment}{//\ ¹ß°ßÇÑ ÇÚµéÀ»\ ÀúÀå}}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ CloseHandle(processHandle);}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ FALSE;\ \ \ \ \ \ \ \textcolor{comment}{//\ Å½»ö Á¾·á}}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ CloseHandle(processHandle);}
\DoxyCodeLine{00024\ \ \ \ \ \}}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keywordflow}{return}\ TRUE;\ \textcolor{comment}{//\ °è¼Ó\ Å½»ö}}
\DoxyCodeLine{00026\ \}}

\end{DoxyCode}
ì´ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ë“¤ì— ëŒ€í•œ ê·¸ë˜í”„ì…ë‹ˆë‹¤.\+:
% FIG 3
\Hypertarget{manage_console_8cpp_aa486752d2d0070676af70f863c3475a9}\index{manageConsole.cpp@{manageConsole.cpp}!resizeWindow@{resizeWindow}}
\index{resizeWindow@{resizeWindow}!manageConsole.cpp@{manageConsole.cpp}}
\doxysubsubsection{\texorpdfstring{resizeWindow()}{resizeWindow()}}
{\footnotesize\ttfamily \label{manage_console_8cpp_aa486752d2d0070676af70f863c3475a9} 
void resize\+Window (\begin{DoxyParamCaption}\item[{int}]{width}{, }\item[{int}]{height}{}\end{DoxyParamCaption})}



\mbox{\hyperlink{manage_console_8cpp_source}{manage\+Console.\+cpp}} íŒŒì¼ì˜ \mbox{\hyperlink{manage_console_8cpp_source_l00050}{50}} ë²ˆì§¸ ë¼ì¸ì—ì„œ ì •ì˜ë˜ì—ˆìŠµë‹ˆë‹¤.


\begin{DoxyCode}{0}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00051\ \ \ \ \ HWND\ targetHwnd\ =\ NULL;}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordflow}{switch}\ (\mbox{\hyperlink{manage_console_8cpp_ae28154de2cff99671355effbe35dc415}{CheckConsoleRegistry}}())\ \{}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keywordflow}{case}\ 1:}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ EnumWindows(\mbox{\hyperlink{manage_console_8cpp_a2a6e8d5b4a7b92c6f8e6c9b837b7d1c9}{EnumWindowsProc}},\ (LPARAM)\&targetHwnd);}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (targetHwnd\ ==\ NULL)\ \{}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{player_u_i_8cpp_a409471bd6e26238b55939ea334bf2478}{clearLine}}(6);\ \mbox{\hyperlink{player_u_i_8cpp_a9d1008cd1f195593b51aa49bd912dac1}{uprintf}}(6,\ L\textcolor{stringliteral}{"{}WindowsTerminal\ Ã¢À»\ Ã£À»\ ¼ö ¾ø½À´Ï´Ù.\(\backslash\)n"{}});}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ MoveWindow(targetHwnd,\ 100,\ 100,\ width*10,\ height*40,\ TRUE);}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keywordflow}{case}\ 0:}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ buffer[256];}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ sprintf\_s(buffer,\textcolor{stringliteral}{"{}mode\ con\ cols=\%d\ lines=\%d"{}},width,height);}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ system(buffer);}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00066\ \ \ \ \ \}}
\DoxyCodeLine{00067\ \}}

\end{DoxyCode}
ì´ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ë“¤ì— ëŒ€í•œ ê·¸ë˜í”„ì…ë‹ˆë‹¤.\+:
% FIG 4
ì´ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ë“¤ì— ëŒ€í•œ ê·¸ë˜í”„ì…ë‹ˆë‹¤.\+:
% FIG 5
